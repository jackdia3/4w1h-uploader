<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ product_name | default("商品頁") }}</title>
    {% if meta_description %}
    <meta name="description" content="{{ meta_description }}">
    {% endif %}
    <style>
        body { font-family:"Noto Sans TC", "Helvetica Neue", Helvetica, Arial, sans-serif; margin:0; padding:0; line-height:1.6; color:#222; }
        .container { max-width:800px; margin:0 auto; padding:20px; }
        h1 { font-size:1.8em; margin:0 0 0.4em 0; }
        figure { margin:0 0 2.2em 0; }
        figcaption { margin-top:0.8em; font-size:0.95em; color:#444; }
        img { width:100%; height:auto; display:block; border-radius:4px; }
        @media (min-width:900px){ img.is-crop { max-width:60%; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>{{ product_name }}</h1>

        {# 主要圖片區域 #}
        {% for item in main_images %}
            <figure>
                <img src="{{ item.src }}" alt="{{ item.alt }}" class="{% if item.is_crop %}is-crop{% endif %}" loading="lazy"/>
                {% set txt = item.texts.get('zh_TW') or item.texts.get('zh') or item.texts.get('zh_tw') or item.texts.get('zh-TW') %}
                {% if txt %}
                    <figcaption>
                        {% if txt is string %}
                            {{ txt }}
                        {% else %}
                            {% for line in txt %}
                                {{ line }}<br/>
                            {% endfor %}
                        {% endif %}
                    </figcaption>
                {% endif %}
            </figure>
        {% endfor %}
    </div>
</body>
</html>